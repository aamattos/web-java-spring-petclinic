@Library(['alm-totta-platform-library@develop', 'alm-totta-commons-library@develop', 'alm-totta-maven-library@develop']) _

//DEVELOP PIPELINE
node('openshift') {

	stage("checkout") {
		checkout scm
		stash name: 'develop', useDefaultExcludes: false
	}
	
	def authToken = "petclinic-openshift-token"
	def templateName = "petclinic"
	def templatePath = "openshift/petclinic.yml"
	def target = "alm-petclinic-dev"
	def params =  readYaml file: "openshift/params-dev.yml"

	openshiftPipeline.applyTemplate(authToken, target, templateName, templatePath, params)
	
}


